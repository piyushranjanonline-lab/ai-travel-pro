<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Piyush AI Travel Planner</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  overflow-x:hidden;
}

/* ===== CENTERED HERO SECTION ===== */

.hero{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  transition:all .6s ease;
  padding:20px;
}

.hero.shift-up{
  min-height:40vh;
  justify-content:flex-start;
  padding-top:80px;
}

h2{
  opacity:.7;
  font-weight:400;
  margin-bottom:10px;
}

h1{
  font-size:42px;
  margin-bottom:30px;
}

/* ===== INPUT CARD ===== */

.input-card{
  background:rgba(255,255,255,0.12);
  backdrop-filter:blur(20px);
  padding:30px;
  border-radius:20px;
  width:100%;
  max-width:450px;
  box-shadow:0 20px 40px rgba(0,0,0,.4);
}

input{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border:none;
  border-radius:10px;
  font-size:15px;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:black;
  color:white;
  cursor:pointer;
  font-size:15px;
}

/* ===== RESULTS ===== */

.results{
  width:100%;
  max-width:900px;
  margin:40px auto;
  display:grid;
  gap:20px;
  padding:0 20px 60px;
}

.card{
  background:rgba(255,255,255,0.15);
  padding:20px;
  border-radius:18px;
  backdrop-filter:blur(10px);
  animation:fadeIn .5s ease;
}

.book-btn{
  margin-top:10px;
  padding:10px;
  width:100%;
  border:none;
  border-radius:10px;
  background:#ff7e5f;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.book-btn:hover{
  background:#ff5f3c;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(15px)}
  to{opacity:1;transform:translateY(0)}
}

/* ===== LOADER ===== */

.loader{
  text-align:center;
  padding:30px;
  opacity:.8;
}

/* ===== MOBILE ===== */

@media(max-width:768px){
  h1{font-size:32px}
}
</style>
</head>

<body>

<div id="hero" class="hero">

  <h2>Built by Piyush ‚Ä¢ AI Travel Planner</h2>
  <h1>Plan Your Journey</h1>

  <div class="input-card">
    <input id="origin" placeholder="From (e.g. Delhi)">
    <input id="destination" placeholder="To (e.g. Mumbai)">
    <button onclick="searchTravel()">Find Best Routes</button>
  </div>

</div>

<div id="results" class="results"></div>

<script>

async function searchTravel(){

  const origin=document.getElementById("origin").value;
  const destination=document.getElementById("destination").value;

  if(!origin || !destination){
    alert("Please enter both cities.");
    return;
  }

  // shift hero upward
  document.getElementById("hero").classList.add("shift-up");

  document.getElementById("results").innerHTML=
    `<div class="loader">Thinking like AI...</div>`;

  try{

    const res=await fetch("/travel",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({origin,destination})
    });

    const data=await res.json();
    const obj=JSON.parse(data.result);

    renderCards(obj);

  }catch{
    document.getElementById("results").innerHTML=
      `<div class="card" style="background:#ff4d4d">Server error</div>`;
  }
}

function renderCards(obj){

  document.getElementById("results").innerHTML=`

  <div class="card">
    <h3>‚úàÔ∏è Flight</h3>
    <p><b>Price:</b> ${obj.flight.price}</p>
    <p><b>Time:</b> ${obj.flight.time}</p>
    <p><b>Book:</b> ${obj.flight.booking}</p>
    <a href="https://www.makemytrip.com/flights/" target="_blank">
      <button class="book-btn">Book Flight</button>
    </a>
  </div>

  <div class="card">
    <h3>üöÜ Train</h3>
    <p><b>Price:</b> ${obj.train.price}</p>
    <p><b>Time:</b> ${obj.train.time}</p>
    <p><b>Book:</b> ${obj.train.booking}</p>
    <a href="https://www.irctc.co.in" target="_blank">
      <button class="book-btn">Book Train</button>
    </a>
  </div>

  <div class="card">
    <h3>üöå Bus</h3>
    <p><b>Price:</b> ${obj.bus.price}</p>
    <p><b>Time:</b> ${obj.bus.time}</p>
    <p><b>Book:</b> ${obj.bus.booking}</p>
    <a href="https://www.redbus.in" target="_blank">
      <button class="book-btn">Book Bus</button>
    </a>
  </div>

  `;
}

</script>

</body>
</html>