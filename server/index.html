<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Piyush AI Travel Planner</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:#0c0a05;
  color:white;
  overflow-x:hidden;
}

/* ===== Gold Animated Background Glow ===== */

body::before{
  content:"";
  position:fixed;
  width:700px;
  height:700px;
  background:radial-gradient(circle,#ffd70055,transparent 70%);
  top:-250px;
  left:-200px;
  animation:moveGlow 12s infinite alternate ease-in-out;
  z-index:-1;
}

body::after{
  content:"";
  position:fixed;
  width:700px;
  height:700px;
  background:radial-gradient(circle,#ffae0055,transparent 70%);
  bottom:-250px;
  right:-200px;
  animation:moveGlow 14s infinite alternate ease-in-out;
  z-index:-1;
}

@keyframes moveGlow{
  from{transform:translate(0,0)}
  to{transform:translate(120px,120px)}
}

/* ===== Hero ===== */

.hero{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  transition:all .6s ease;
  padding:20px;
  text-align:center;
}

.hero.shift-up{
  min-height:40vh;
  justify-content:flex-start;
  padding-top:100px;
}

h2{
  opacity:.7;
  font-weight:400;
  margin-bottom:10px;
}

h1{
  font-size:48px;
  margin-bottom:30px;
  background:linear-gradient(90deg,#ffd700,#ffae00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* ===== Glass Input Card ===== */

.input-card{
  background:rgba(255,215,0,0.08);
  backdrop-filter:blur(20px);
  border:1px solid rgba(255,215,0,0.2);
  padding:35px;
  border-radius:20px;
  width:100%;
  max-width:450px;
  box-shadow:0 0 30px rgba(255,215,0,0.2);
}

input{
  width:100%;
  padding:14px;
  margin-bottom:15px;
  border:none;
  border-radius:10px;
  font-size:15px;
  background:rgba(255,255,255,0.08);
  color:white;
}

input:focus{
  outline:none;
  box-shadow:0 0 10px #ffd700;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:linear-gradient(90deg,#ffd700,#ffae00);
  color:black;
  cursor:pointer;
  font-size:15px;
  font-weight:bold;
  transition:.3s;
}

button:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px #ffd700;
}

/* ===== Results ===== */

.results{
  width:100%;
  max-width:900px;
  margin:50px auto;
  display:grid;
  gap:25px;
  padding:0 20px 60px;
}

.card{
  background:rgba(255,215,0,0.06);
  border:1px solid rgba(255,215,0,0.2);
  padding:25px;
  border-radius:20px;
  backdrop-filter:blur(15px);
  animation:fadeIn .6s ease;
}

.card h3{
  margin-bottom:10px;
  color:#ffd700;
}

.book-btn{
  margin-top:12px;
  padding:10px;
  width:100%;
  border:none;
  border-radius:10px;
  background:linear-gradient(90deg,#ffae00,#ffd700);
  color:black;
  font-weight:bold;
  cursor:pointer;
  transition:.3s;
}

.book-btn:hover{
  transform:scale(1.05);
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

/* ===== Loader ===== */

.loader-wrapper{
  display:flex;
  justify-content:center;
  align-items:center;
  height:120px;
}

.loader{
  width:60px;
  height:60px;
  border:5px solid rgba(255,215,0,0.2);
  border-top:5px solid #ffd700;
  border-radius:50%;
  animation:spin 1s linear infinite;
}

@keyframes spin{
  100%{transform:rotate(360deg)}
}

/* ===== Mobile ===== */

@media(max-width:768px){
  h1{font-size:34px}
}
</style>
</head>

<body>

<div id="hero" class="hero">

  <h2>Built by Piyush ‚Ä¢ AI Travel Planner</h2>
  <h1>Golden Travel Intelligence</h1>

  <div class="input-card">
    <input id="origin" placeholder="From (e.g. Delhi)">
    <input id="destination" placeholder="To (e.g. Mumbai)">
    <button onclick="searchTravel()">Explore Route</button>
  </div>

</div>

<div id="results" class="results"></div>

<script>

async function searchTravel(){

  const origin=document.getElementById("origin").value;
  const destination=document.getElementById("destination").value;

  if(!origin || !destination){
    alert("Enter both cities");
    return;
  }

  document.getElementById("hero").classList.add("shift-up");

  document.getElementById("results").innerHTML=
  `<div class="loader-wrapper">
     <div class="loader"></div>
   </div>`;

  try{

    const res=await fetch("/travel",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({origin,destination})
    });

    const data=await res.json();
    const obj=JSON.parse(data.result);

    renderCards(obj);

  }catch{
    document.getElementById("results").innerHTML=
      `<div class="card" style="background:#ff0033;">System error</div>`;
  }
}

function renderCards(obj){

  document.getElementById("results").innerHTML=`

  <div class="card">
    <h3>‚úàÔ∏è Flight</h3>
    <p><b>Price:</b> ${obj.flight.price}</p>
    <p><b>Time:</b> ${obj.flight.time}</p>
    <p><b>Book:</b> ${obj.flight.booking}</p>
    <a href="https://www.makemytrip.com/flights/" target="_blank">
      <button class="book-btn">Book Flight</button>
    </a>
  </div>

  <div class="card">
    <h3>üöÜ Train</h3>
    <p><b>Price:</b> ${obj.train.price}</p>
    <p><b>Time:</b> ${obj.train.time}</p>
    <p><b>Book:</b> ${obj.train.booking}</p>
    <a href="https://www.irctc.co.in" target="_blank">
      <button class="book-btn">Book Train</button>
    </a>
  </div>

  <div class="card">
    <h3>üöå Bus</h3>
    <p><b>Price:</b> ${obj.bus.price}</p>
    <p><b>Time:</b> ${obj.bus.time}</p>
    <p><b>Book:</b> ${obj.bus.booking}</p>
    <a href="https://www.redbus.in" target="_blank">
      <button class="book-btn">Book Bus</button>
    </a>
  </div>

  `;
}

</script>

</body>
</html>